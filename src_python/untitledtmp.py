import numpy as np

from bridgeA3 import *
from genetic_width_growth import *
from smart_diag import *

os.chdir(litpath3He)

cfgs = [['he_no1', '000'], ['he_no6', '000']]

inputBas = [[['he_no1', '000'], ['he_no1', '000'], ['he_no6', '000'],
             ['he_no6', '000'], ['he_no6', '000']],
            [[9.471311338440973, 4.687991262776127],
             [3.266908, 0.474342, 0.068872, 0.01],
             [7.262272656495228, 8.564765709236292], [0.068872],
             [3.266908, 0.474342, 0.01]],
            [[[0.38715022802352905], [2.951348304748535]],
             [[1.966068, 0.387147, 0.076235, 0.015012],
              [1.309688, 0.257896, 0.050784, 0.01],
              [4.430573, 0.872443, 0.171797, 0.033829],
              [2.951408, 0.581175, 0.114442, 0.022535]],
             [[0.060055628418922424], [0.4496470093727112]],
             [[4.430573, 0.171797]],
             [[1.966068, 0.387147, 0.076235, 0.015012],
              [1.309688, 0.257896, 0.050784, 0.01],
              [2.951408, 0.581175, 0.114442, 0.022535]]],
            [[1, [1]], [2, [1]], [3, [1, 2, 3, 4]], [4, [1, 2, 3, 4]],
             [5, [1, 2, 3, 4]], [6, [1, 2, 3, 4]], [7, [1]], [8, [1]],
             [9, [1, 2]], [10, [1, 2, 3, 4]], [11, [1, 2, 3, 4]],
             [12, [1, 2, 3, 4]]]]

outBas = condense_Basis(inputBas, cfgs)

ma = blunt_ev(inputBas[0],
              inputBas[1],
              inputBas[2],
              inputBas[3],
              wrkdir='',
              nzopt=zop,
              costring=costr,
              bin_path=BINBDGpath,
              einzel_file_path=v18uixpath,
              potNN=potnn,
              potNNN=potnnn,
              parall=-1,
              tnni=10,
              jay=0.5,
              dia=True)